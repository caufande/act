{"version":3,"file":"element.js","sources":["../../../../../taro-components-library-solid/src/solid-component-lib/utils/element.ts"],"sourcesContent":["import { isObject } from '@tarojs/shared'\nimport { setAttribute as _$setAttribute } from 'solid-js/web'\n\nexport function syncEvent(el: HTMLElement & { __events?: { [key: string]: ((e: Event) => any) | undefined } }, propName: string, propValue: any) {\n  const eventName = propName.substring(2)[0].toLowerCase() + propName.substring(3)\n\n  const eventStore = el.__events || (el.__events = {})\n  const oldEventHandler = eventStore[eventName]\n\n  if (oldEventHandler) {\n    el.removeEventListener(eventName, oldEventHandler)\n  }\n\n  el.addEventListener(\n    eventName,\n    (eventStore[eventName] = function handler(e: Event) {\n      if (propValue) {\n        propValue.call(this, e)\n      }\n    })\n  )\n}\n\nexport function syncAttribute(el: HTMLElement, attribute: string, value: any) {\n  if (attribute === 'style') {\n    if (isObject(value)) {\n      value = Object.keys(value).reduce((acc, key) => {\n        acc.push(`${key}: ${value[key]}`)\n        return acc\n      }, []).join(';')\n    }\n    el.style.cssText = value\n  } else if (attribute === 'classList') {\n    const [addList, removeList] = [[], []]\n    if (isObject<Record<string, any>>(value)) {\n      for (const k in value) {\n        if (value[k]) {\n          addList.push(k)\n        } else {\n          removeList.push(k)\n        }\n      }\n      el.classList.add(...addList)\n      el.classList.remove(...removeList)\n    }\n  } else {\n    _$setAttribute(el, attribute, value)\n  }\n}\n"],"names":["_$setAttribute"],"mappings":";;;SAGgB,SAAS,CAAC,EAAmF,EAAE,QAAgB,EAAE,SAAc,EAAA;IAC7I,MAAM,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAA;AAEhF,IAAA,MAAM,UAAU,GAAG,EAAE,CAAC,QAAQ,KAAK,EAAE,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAA;AACpD,IAAA,MAAM,eAAe,GAAG,UAAU,CAAC,SAAS,CAAC,CAAA;IAE7C,IAAI,eAAe,EAAE;AACnB,QAAA,EAAE,CAAC,mBAAmB,CAAC,SAAS,EAAE,eAAe,CAAC,CAAA;KACnD;AAED,IAAA,EAAE,CAAC,gBAAgB,CACjB,SAAS,GACR,UAAU,CAAC,SAAS,CAAC,GAAG,SAAS,OAAO,CAAC,CAAQ,EAAA;QAChD,IAAI,SAAS,EAAE;AACb,YAAA,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAA;SACxB;KACF,EACF,CAAA;AACH,CAAC;SAEe,aAAa,CAAC,EAAe,EAAE,SAAiB,EAAE,KAAU,EAAA;AAC1E,IAAA,IAAI,SAAS,KAAK,OAAO,EAAE;AACzB,QAAA,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACnB,YAAA,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,KAAI;AAC7C,gBAAA,GAAG,CAAC,IAAI,CAAC,CAAA,EAAG,GAAG,CAAA,EAAA,EAAK,KAAK,CAAC,GAAG,CAAC,CAAE,CAAA,CAAC,CAAA;AACjC,gBAAA,OAAO,GAAG,CAAA;aACX,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;SACjB;AACD,QAAA,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAA;KACzB;AAAM,SAAA,IAAI,SAAS,KAAK,WAAW,EAAE;QACpC,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;AACtC,QAAA,IAAI,QAAQ,CAAsB,KAAK,CAAC,EAAE;AACxC,YAAA,KAAK,MAAM,CAAC,IAAI,KAAK,EAAE;AACrB,gBAAA,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE;AACZ,oBAAA,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;iBAChB;qBAAM;AACL,oBAAA,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;iBACnB;aACF;YACD,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,CAAA;YAC5B,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,CAAA;SACnC;KACF;SAAM;AACL,QAAAA,YAAc,CAAC,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,CAAA;KACrC;AACH;;;;"}