{"version":3,"file":"taro.js","sources":["../src/env.ts","../src/interceptor/chain.ts","../src/interceptor/index.ts","../src/interceptor/interceptors.ts","../src/tools.ts","../src/index.ts"],"sourcesContent":["export const ENV_TYPE = {\n  WEAPP: 'WEAPP',\n  SWAN: 'SWAN',\n  ALIPAY: 'ALIPAY',\n  TT: 'TT',\n  QQ: 'QQ',\n  JD: 'JD',\n  WEB: 'WEB',\n  RN: 'RN',\n  HARMONY: 'HARMONY',\n  QUICKAPP: 'QUICKAPP',\n  HARMONYHYBRID: 'HARMONYHYBRID',\n}\n\nexport function getEnv () {\n  if (process.env.TARO_ENV === 'weapp') {\n    return ENV_TYPE.WEAPP\n  } else if (process.env.TARO_ENV === 'alipay') {\n    return ENV_TYPE.ALIPAY\n  } else if (process.env.TARO_ENV === 'swan') {\n    return ENV_TYPE.SWAN\n  } else if (process.env.TARO_ENV === 'tt') {\n    return ENV_TYPE.TT\n  } else if (process.env.TARO_ENV === 'jd') {\n    return ENV_TYPE.JD\n  } else if (process.env.TARO_ENV === 'qq') {\n    return ENV_TYPE.QQ\n  } else if (process.env.TARO_ENV === 'harmony-hybrid') {\n    return ENV_TYPE.HARMONYHYBRID\n  } else if (process.env.TARO_ENV === 'h5' || process.env.TARO_PLATFORM === 'web') {\n    return ENV_TYPE.WEB\n  } else if (process.env.TARO_ENV === 'rn') {\n    return ENV_TYPE.RN\n  } else if (process.env.TARO_ENV === 'harmony' || process.env.TARO_PLATFORM === 'harmony') {\n    return ENV_TYPE.HARMONY\n  } else if (process.env.TARO_ENV === 'quickapp') {\n    return ENV_TYPE.QUICKAPP\n  } else {\n    return process.env.TARO_ENV || 'Unknown'\n  }\n}\n","import { isFunction } from '@tarojs/shared'\n\nexport type TInterceptor = (c: Chain) => Promise<void>\n\nexport interface IRequestParams {\n  timeout?: number\n  method?: string\n  url?: string\n  data?: unknown\n}\n\nexport default class Chain {\n  index: number\n  requestParams: IRequestParams\n  interceptors: TInterceptor[]\n\n  constructor (requestParams?: IRequestParams, interceptors?: TInterceptor[], index?: number) {\n    this.index = index || 0\n    this.requestParams = requestParams || {}\n    this.interceptors = interceptors || []\n  }\n\n  proceed (requestParams: IRequestParams = {}) {\n    this.requestParams = requestParams\n    if (this.index >= this.interceptors.length) {\n      throw new Error('chain 参数错误, 请勿直接修改 request.chain')\n    }\n    const nextInterceptor = this._getNextInterceptor()\n    const nextChain = this._getNextChain()\n    const p = nextInterceptor(nextChain)\n    const res = p.catch(err => Promise.reject(err))\n    Object.keys(p).forEach(k => isFunction(p[k]) && (res[k] = p[k]))\n    return res\n  }\n\n  _getNextInterceptor () {\n    return this.interceptors[this.index]\n  }\n\n  _getNextChain () {\n    return new Chain(this.requestParams, this.interceptors, this.index + 1)\n  }\n}\n","import Chain from './chain'\n\nimport type { IRequestParams, TInterceptor } from './chain'\n\nexport default class Link {\n  taroInterceptor: TInterceptor\n  chain: Chain\n\n  constructor (interceptor: TInterceptor) {\n    this.taroInterceptor = interceptor\n    this.chain = new Chain()\n  }\n\n  request (requestParams: IRequestParams) {\n    const chain = this.chain\n    const taroInterceptor = this.taroInterceptor\n\n    chain.interceptors = chain.interceptors\n      .filter(interceptor => interceptor !== taroInterceptor)\n      .concat(taroInterceptor)\n\n    return chain.proceed({ ...requestParams })\n  }\n\n  addInterceptor (interceptor: TInterceptor) {\n    this.chain.interceptors.push(interceptor)\n  }\n\n  cleanInterceptors () {\n    this.chain = new Chain()\n  }\n}\n\nexport function interceptorify (promiseifyApi) {\n  return new Link(function (chain) {\n    return promiseifyApi(chain.requestParams)\n  })\n}\n","import { isFunction, isUndefined } from '@tarojs/shared'\n\nimport type Chain from './chain'\n\nexport function timeoutInterceptor (chain: Chain) {\n  const requestParams = chain.requestParams\n  let p: Promise<void>\n  const res = new Promise<void>((resolve, reject) => {\n    const timeout: ReturnType<typeof setTimeout> = setTimeout(() => {\n      clearTimeout(timeout)\n      reject(new Error('网络链接超时,请稍后再试！'))\n    }, (requestParams && requestParams.timeout) || 60000)\n\n    p = chain.proceed(requestParams)\n    p\n      .then(res => {\n        if (!timeout) return\n        clearTimeout(timeout)\n        resolve(res)\n      })\n      .catch(err => {\n        timeout && clearTimeout(timeout)\n        reject(err)\n      })\n  })\n  // @ts-ignore\n  if (!isUndefined(p) && isFunction(p.abort)) res.abort = p.abort\n\n  return res\n}\n\nexport function logInterceptor (chain: Chain) {\n  const requestParams = chain.requestParams\n  const { method, data, url } = requestParams\n\n  // eslint-disable-next-line no-console\n  console.log(`http ${method || 'GET'} --> ${url} data: `, data)\n\n  const p = chain.proceed(requestParams)\n  const res = p\n    .then(res => {\n      // eslint-disable-next-line no-console\n      console.log(`http <-- ${url} result:`, res)\n      return res\n    })\n  // @ts-ignore\n  if (isFunction(p.abort)) res.abort = p.abort\n\n  return res\n}\n","import { isFunction, isObject } from '@tarojs/shared'\n\nexport function Behavior (options) {\n  return options\n}\n\nexport function getPreload (current) {\n  return function (key: any, val: unknown) {\n    current.preloadData = isObject(key)\n      ? key\n      : {\n        [key]: val\n      }\n  }\n}\n\nconst defaultDesignWidth = 750\nconst defaultDesignRatio = {\n  640: 2.34 / 2,\n  750: 1,\n  828: 1.81 / 2\n}\nconst defaultBaseFontSize = 20\nconst defaultUnitPrecision = 5\nconst defaultTargetUnit = 'rpx'\n\nexport function getInitPxTransform (taro) {\n  return function (config) {\n    const {\n      designWidth = defaultDesignWidth,\n      deviceRatio = defaultDesignRatio,\n      baseFontSize = defaultBaseFontSize,\n      targetUnit = defaultTargetUnit,\n      unitPrecision = defaultUnitPrecision,\n    } = config\n    taro.config = taro.config || {}\n    taro.config.designWidth = designWidth\n    taro.config.deviceRatio = deviceRatio\n    taro.config.baseFontSize = baseFontSize\n    taro.config.targetUnit = targetUnit\n    taro.config.unitPrecision = unitPrecision\n  }\n}\n\nexport function getPxTransform (taro) {\n  return function (size) {\n    const config = taro.config || {}\n    const baseFontSize = config.baseFontSize\n    const deviceRatio = config.deviceRatio || defaultDesignRatio\n    const designWidth = ((input = 0) => isFunction(config.designWidth)\n      ? config.designWidth(input)\n      : config.designWidth || defaultDesignWidth)(size)\n    if (!(designWidth in deviceRatio)) {\n      throw new Error(`deviceRatio 配置中不存在 ${designWidth} 的设置！`)\n    }\n    const targetUnit = config.targetUnit || defaultTargetUnit\n    const unitPrecision = config.unitPrecision || defaultUnitPrecision\n    const formatSize = ~~size\n    let rootValue = 1 / deviceRatio[designWidth]\n    switch (targetUnit) {\n      case 'rem':\n        rootValue *= baseFontSize * 2\n        break\n      case 'px':\n        rootValue *= 2\n        break\n    }\n    let val = formatSize / rootValue\n    if (unitPrecision >= 0 && unitPrecision <= 100) {\n      val = Number(val.toFixed(unitPrecision))\n    }\n    return val + targetUnit\n  }\n}\n","/* eslint-disable camelcase */\nimport {\n  Current,\n  eventCenter,\n  Events,\n  getCurrentInstance,\n  nextTick,\n  options\n} from '@tarojs/runtime'\n\nimport { ENV_TYPE, getEnv } from './env'\nimport Link, { interceptorify } from './interceptor'\nimport * as interceptors from './interceptor/interceptors'\nimport {\n  Behavior,\n  getInitPxTransform,\n  getPreload,\n  getPxTransform,\n} from './tools'\n\nconst Taro: Record<string, unknown> = {\n  Behavior,\n  getEnv,\n  ENV_TYPE,\n  Link,\n  interceptors,\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  getInitPxTransform,\n  interceptorify\n}\n\nTaro.initPxTransform = getInitPxTransform(Taro)\nTaro.preload = getPreload(Current)\nTaro.pxTransform = getPxTransform(Taro)\n\nexport default Taro\n"],"names":["isFunction","isUndefined","isObject","Current","getCurrentInstance","options","nextTick","eventCenter","Events"],"mappings":"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"}