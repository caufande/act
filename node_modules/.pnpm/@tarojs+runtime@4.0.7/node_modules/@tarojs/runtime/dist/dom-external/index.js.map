{"version":3,"file":"index.js","sources":["../../src/dom-external/index.ts"],"sourcesContent":["import { PLATFORM_TYPE } from '@tarojs/shared'\n\nimport { TaroElement } from '../dom/element'\nimport { TaroNode } from '../dom/node'\nimport { setInnerHTML } from '../dom-external/inner-html/html'\nimport { getBoundingClientRectImpl, getTemplateContent } from './element'\nimport { cloneNode, contains, insertAdjacentHTML } from './node'\n\ndeclare const ENABLE_INNER_HTML: boolean\ndeclare const ENABLE_ADJACENT_HTML: boolean\ndeclare const ENABLE_CLONE_NODE: boolean\ndeclare const ENABLE_CONTAINS: boolean\n\ndeclare const ENABLE_SIZE_APIS: boolean\ndeclare const ENABLE_TEMPLATE_CONTENT: boolean\n\nif (process.env.TARO_PLATFORM !== PLATFORM_TYPE.WEB && process.env.TARO_PLATFORM !== PLATFORM_TYPE.HARMONY) {\n  if (ENABLE_INNER_HTML) {\n    TaroNode.extend('innerHTML', {\n      set (html: string) {\n        setInnerHTML.call(this, this, html)\n      },\n      get (): string {\n        return ''\n      }\n    })\n\n    if (ENABLE_ADJACENT_HTML) {\n      TaroNode.extend('insertAdjacentHTML', insertAdjacentHTML)\n    }\n  }\n\n  if (ENABLE_CLONE_NODE) {\n    TaroNode.extend('cloneNode', cloneNode)\n  }\n\n  if (ENABLE_CONTAINS) {\n    TaroNode.extend('contains', contains)\n  }\n\n  if (ENABLE_SIZE_APIS) {\n    TaroElement.extend('getBoundingClientRect', getBoundingClientRectImpl)\n  }\n\n  if (ENABLE_TEMPLATE_CONTENT) {\n    TaroElement.extend('content', {\n      get () {\n        return getTemplateContent(this)\n      }\n    })\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAgBA,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,KAAK,aAAa,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,KAAK,aAAa,CAAC,OAAO,EAAE;IAC1G,IAAI,iBAAiB,EAAE;AACrB,QAAA,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE;AAC3B,YAAA,GAAG,CAAE,IAAY,EAAA;gBACf,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA;aACpC;YACD,GAAG,GAAA;AACD,gBAAA,OAAO,EAAE,CAAA;aACV;AACF,SAAA,CAAC,CAAA;QAEF,IAAI,oBAAoB,EAAE;AACxB,YAAA,QAAQ,CAAC,MAAM,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAA;SAC1D;KACF;IAED,IAAI,iBAAiB,EAAE;AACrB,QAAA,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,SAAS,CAAC,CAAA;KACxC;IAED,IAAI,eAAe,EAAE;AACnB,QAAA,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAA;KACtC;IAED,IAAI,gBAAgB,EAAE;AACpB,QAAA,WAAW,CAAC,MAAM,CAAC,uBAAuB,EAAE,yBAAyB,CAAC,CAAA;KACvE;IAED,IAAI,uBAAuB,EAAE;AAC3B,QAAA,WAAW,CAAC,MAAM,CAAC,SAAS,EAAE;YAC5B,GAAG,GAAA;AACD,gBAAA,OAAO,kBAAkB,CAAC,IAAI,CAAC,CAAA;aAChC;AACF,SAAA,CAAC,CAAA;KACH;AACH"}